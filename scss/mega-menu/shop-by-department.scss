// 
// Shop By Department Mega Menu
// 

$c2-shop-by-department-menu-item-padding-y:           map-get($spacers, 2);
$c2-shop-by-department-menu-item-lev2-margin-bottom:  map-get($spacers, 2);
$c2-shop-by-department-menu-item-active-line-width:   100%;
$c2-shop-by-department-menu-item-active-line-height:  3px;
$c2-shop-by-department-bottom-links-height:           5rem;

#c2-mega-menu-shop-by-departemnt {
  ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }
}

.c2-mega-menu-shop-by-departemnt {
  &__menu {
    max-height: subtract($c2-mega-menu-max-height, $c2-shop-by-department-bottom-links-height);
    li.lev1 {
      padding: $c2-shop-by-department-menu-item-padding-y 0;

      &.active, &:hover {
        a:after {
          content: "";
        }
      }

      a.lev1 {
        position: relative;

        // Match h5 styles
        @extend %heading;
        @include font-size($h6-font-size);
        color: $body-color;
        margin-bottom: 0;

        &:after {
          position: absolute;
          width: $c2-shop-by-department-menu-item-active-line-width;
          height: $c2-shop-by-department-menu-item-active-line-height;
          background-color: $secondary;
          left: 0;
          bottom: $c2-shop-by-department-menu-item-padding-y / -2;
        }

        &:hover {
          text-decoration: none;
        }
      }
    }
  }

  &__lev2 {
    max-height: subtract($c2-mega-menu-max-height, $c2-shop-by-department-bottom-links-height);
    
    .lev2wrapper {
      padding: $c2-shop-by-department-menu-item-padding-y 0;
      animation: lev2-slide-in 0.5s ease;
      &:not(.active) {
        display: none;
      }
    }

    ul.lev2 {
      columns: 3;
    }
    li.lev2 {
      margin-bottom: $c2-shop-by-department-menu-item-lev2-margin-bottom;
      a.lev2 {
        color: $body-color;
      }
    }
  }

  &__bottom-links {
    height: $c2-shop-by-department-bottom-links-height;
    > div {
      width: 100%;
    }

    &__menu > ul {
      display: flex;
      justify-content: space-between;

      a.lev1 {
        @extend %heading;
        @include font-size($h6-font-size);
        color: $body-color;
      }
    }
  }
}

@keyframes lev2-slide-in {
  from {
    transform: translateX(-30px);
    opacity: 0.5;
  }
  to {
    transform: translateX(0px);
    opacity: 1;
  }
}
